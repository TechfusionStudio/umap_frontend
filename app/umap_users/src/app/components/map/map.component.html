<div class="map-container" *ngIf="isDisplay">
  <google-map class="custom-google-map"
    height="500px"
    width="350px"
    [center]="center"
    [zoom]="zoom"
    [options]="options"
    (mapClick)="addMarker($event)"
  >
    <map-marker
      *ngIf="center"
      [position]="center"
      [options]="currentPositionMarkerOption"
    >
    </map-marker>
    <div *ngFor="let nearItem of nearItems; index as i">
      <map-marker
        #marker="mapMarker"
        [position]="nearItem['position']"
        [options]="nearItemPositionsMarkerOption"
        (mapClick)="openInfoWindow(marker, i)"
      ></map-marker>
      <map-info-window class="custom-info-window">
        <!-- <ng-container *ngFor="let key of nearItemsDataKeys">
          <ng-container *ngIf="nearItem['isAbstractData'][key]">
            <div class="info-window-content">{{ key }}: {{ nearItem['dataValues'][key] }}</div><br>
          </ng-container>
        </ng-container>
        <a href="https://www.google.com/maps/search/?api=1&query={{nearItem['position'].lat}},{{nearItem['position'].lng}}" target="_blank">Google Mapsで見る</a>
        <ion-button class="detail-button" expand="full" (click)="clickDetail(
          nearItem['dataValues'],
          nearItemsDataKeys
        )">詳細を見る</ion-button> -->
        <ng-container *ngFor="let key of currentItemDataKeys">
          <ng-container *ngIf="currentItemsIsAbstractData[key]">
            <div class="info-window-content">{{ key }}: {{ currentItemDataValues[key] }}</div><br>
          </ng-container>
        </ng-container>
        <a href="https://www.google.com/maps/search/?api=1&query={{currentPosition?.lat}},{{currentPosition?.lng}}" target="_blank">Google Mapsで見る</a>
        <ion-button class="detail-button" expand="full" (click)="clickDetail(
          nearItem['dataValues'],
          nearItemsDataKeys
        )">詳細を見る</ion-button>
        <!-- <div><strong>{{ currentInfoWindowContent.title }}</strong></div>
        <div>{{ currentInfoWindowContent.description }}</div> -->
      </map-info-window>
    </div>
  </google-map>
</div>

<div class="filter-options">
  <ion-button color="primary" expand="block" [fill]="fill_filters['spacious']" size="small" (click)="toggleFilter('spacious')" [class.active]="filters['spacious']">
    公園が広い
  </ion-button>
  <ion-button color="primary" expand="block" [fill]="fill_filters['facility']" size="small" (click)="toggleFilter('facility')" [class.active]="filters['facility']">
    施設が充実している
  </ion-button>
  <ion-button color="primary" expand="block" [fill]="fill_filters['equipment']" size="small" (click)="toggleFilter('equipment')" [class.active]="filters['equipment']">
    遊具が充実している
  </ion-button>
</div>
